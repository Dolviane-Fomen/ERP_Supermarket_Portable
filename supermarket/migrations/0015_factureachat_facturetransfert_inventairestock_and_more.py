# Generated by Django 5.2.6 on 2025-09-26 07:40

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('supermarket', '0014_alter_facturetemporaire_session_key'),
    ]

    operations = [
        migrations.CreateModel(
            name='FactureAchat',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_fournisseur', models.CharField(max_length=50, verbose_name='Numéro fournisseur')),
                ('date_achat', models.DateField(verbose_name="Date d'achat")),
                ('heure', models.TimeField(verbose_name='Heure')),
                ('reference_achat', models.CharField(max_length=100, unique=True, verbose_name='Référence achat')),
                ('prix_total_global', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Prix total global')),
                ('statut', models.CharField(choices=[('brouillon', 'Brouillon'), ('validee', 'Validée'), ('payee', 'Payée'), ('annulee', 'Annulée')], default='brouillon', max_length=20, verbose_name='Statut')),
                ('commentaire', models.TextField(blank=True, verbose_name='Commentaire')),
                ('date_creation', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('date_modification', models.DateTimeField(auto_now=True, verbose_name='Date de modification')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
                ('employe', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.employe', verbose_name='Employé')),
                ('fournisseur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.fournisseur', verbose_name='Fournisseur')),
            ],
            options={
                'verbose_name': "Facture d'achat",
                'verbose_name_plural': "Factures d'achat",
                'ordering': ['-date_achat'],
            },
        ),
        migrations.CreateModel(
            name='FactureTransfert',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_compte', models.CharField(max_length=50, verbose_name='Numéro de compte')),
                ('date_transfert', models.DateField(verbose_name='Date de transfert')),
                ('reference_transfert', models.CharField(max_length=100, unique=True, verbose_name='Référence transfert')),
                ('lieu_depart', models.CharField(max_length=100, verbose_name='Lieu de départ')),
                ('lieu_arrivee', models.CharField(max_length=100, verbose_name="Lieu d'arrivée")),
                ('quantite', models.IntegerField(verbose_name='Quantité')),
                ('statut', models.CharField(choices=[('en_attente', 'En attente'), ('en_cours', 'En cours'), ('termine', 'Terminé'), ('annule', 'Annulé')], default='en_attente', max_length=20, verbose_name='Statut')),
                ('commentaire', models.TextField(blank=True, verbose_name='Commentaire')),
                ('date_creation', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('agence_destination', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transferts_entrants', to='supermarket.agence', verbose_name='Agence destination')),
                ('agence_source', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transferts_sortants', to='supermarket.agence', verbose_name='Agence source')),
                ('employe_destinataire', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='transferts_recus', to='supermarket.employe', verbose_name='Employé destinataire')),
                ('employe_expediteur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transferts_expedies', to='supermarket.employe', verbose_name='Employé expéditeur')),
            ],
            options={
                'verbose_name': 'Facture de transfert',
                'verbose_name_plural': 'Factures de transfert',
                'ordering': ['-date_transfert'],
            },
        ),
        migrations.CreateModel(
            name='InventaireStock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_inventaire', models.CharField(max_length=50, unique=True, verbose_name="Numéro d'inventaire")),
                ('date_debut', models.DateTimeField(verbose_name='Date de début')),
                ('date_fin', models.DateTimeField(blank=True, null=True, verbose_name='Date de fin')),
                ('statut', models.CharField(choices=[('en_cours', 'En cours'), ('termine', 'Terminé'), ('annule', 'Annulé')], default='en_cours', max_length=20, verbose_name='Statut')),
                ('commentaire', models.TextField(blank=True, verbose_name='Commentaire')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
                ('responsable', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.employe', verbose_name='Responsable')),
            ],
            options={
                'verbose_name': 'Inventaire de stock',
                'verbose_name_plural': 'Inventaires de stock',
                'ordering': ['-date_debut'],
            },
        ),
        migrations.CreateModel(
            name='LigneFactureAchat',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('reference_article', models.CharField(max_length=50, verbose_name='Référence article')),
                ('designation', models.CharField(max_length=200, verbose_name='Désignation')),
                ('prix_unitaire', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Prix unitaire')),
                ('quantite', models.IntegerField(verbose_name='Quantité')),
                ('prix_total_article', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Prix total article')),
                ('article', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.article', verbose_name='Article')),
                ('facture_achat', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lignes', to='supermarket.factureachat', verbose_name="Facture d'achat")),
            ],
            options={
                'verbose_name': "Ligne de facture d'achat",
                'verbose_name_plural': "Lignes de facture d'achat",
                'ordering': ['facture_achat', 'reference_article'],
            },
        ),
        migrations.CreateModel(
            name='LigneFactureTransfert',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantite', models.IntegerField(verbose_name='Quantité')),
                ('prix_unitaire', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Prix unitaire')),
                ('valeur_totale', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Valeur totale')),
                ('article', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.article', verbose_name='Article')),
                ('facture_transfert', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lignes', to='supermarket.facturetransfert', verbose_name='Facture de transfert')),
            ],
            options={
                'verbose_name': 'Ligne de facture de transfert',
                'verbose_name_plural': 'Lignes de facture de transfert',
                'ordering': ['facture_transfert', 'article'],
            },
        ),
        migrations.CreateModel(
            name='LigneInventaireStock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('reference_article', models.CharField(max_length=50, verbose_name='Référence article')),
                ('designation', models.CharField(max_length=200, verbose_name='Désignation')),
                ('quantite_stock', models.IntegerField(verbose_name='Quantité en stock')),
                ('prix_unitaire', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Prix unitaire')),
                ('valeur', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valeur')),
                ('conditionnement', models.CharField(max_length=50, verbose_name='Conditionnement')),
                ('commentaire', models.TextField(blank=True, verbose_name='Commentaire')),
                ('article', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.article', verbose_name='Article')),
                ('inventaire', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lignes', to='supermarket.inventairestock', verbose_name='Inventaire')),
            ],
            options={
                'verbose_name': "Ligne d'inventaire de stock",
                'verbose_name_plural': "Lignes d'inventaire de stock",
                'ordering': ['reference_article'],
            },
        ),
        migrations.CreateModel(
            name='MouvementStock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_mouvement', models.DateTimeField(verbose_name='Date de mouvement')),
                ('type_mouvement', models.CharField(choices=[('entree', 'Entrée'), ('sortie', 'Sortie'), ('ajustement', 'Ajustement'), ('inventaire', 'Inventaire'), ('transfert', 'Transfert'), ('perte', 'Perte'), ('retour', 'Retour')], max_length=20, verbose_name='Type de mouvement')),
                ('numero_piece', models.CharField(max_length=100, verbose_name='Numéro de pièce')),
                ('quantite_stock', models.IntegerField(verbose_name='Quantité en stock')),
                ('stock_initial', models.IntegerField(verbose_name='Stock initial')),
                ('solde', models.IntegerField(verbose_name='Solde')),
                ('quantite', models.IntegerField(verbose_name='Quantité')),
                ('cout_moyen_pondere', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Coût moyen pondéré')),
                ('stock_permanent', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Stock permanent')),
                ('commentaire', models.TextField(blank=True, verbose_name='Commentaire')),
                ('date_creation', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
                ('article', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.article', verbose_name='Article')),
                ('employe', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.employe', verbose_name='Employé')),
                ('facture_achat', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.factureachat', verbose_name="Facture d'achat")),
                ('facture_transfert', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.facturetransfert', verbose_name='Facture de transfert')),
                ('facture_vente', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.facturevente', verbose_name='Facture de vente')),
                ('fournisseur', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.fournisseur', verbose_name='Fournisseur')),
                ('inventaire', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.inventairestock', verbose_name='Inventaire')),
            ],
            options={
                'verbose_name': 'Mouvement de stock',
                'verbose_name_plural': 'Mouvements de stock',
                'ordering': ['-date_mouvement'],
            },
        ),
        migrations.CreateModel(
            name='PlanComptable',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero', models.CharField(max_length=10, unique=True, verbose_name='Numéro')),
                ('intitule', models.CharField(max_length=200, verbose_name='Intitulé')),
                ('compte', models.CharField(max_length=10, verbose_name='Compte')),
                ('abrege', models.CharField(max_length=50, verbose_name='Abrégé')),
                ('nature_compte', models.CharField(choices=[('actif', 'Actif'), ('passif', 'Passif'), ('produit', 'Produit'), ('charge', 'Charge'), ('tresorerie', 'Trésorerie')], max_length=20, verbose_name='Nature compte')),
                ('niveau', models.IntegerField(default=1, verbose_name='Niveau')),
                ('actif', models.BooleanField(default=True, verbose_name='Actif')),
                ('commentaire', models.TextField(blank=True, verbose_name='Commentaire')),
                ('compte_parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='supermarket.plancomptable', verbose_name='Compte parent')),
            ],
            options={
                'verbose_name': 'Plan comptable',
                'verbose_name_plural': 'Plan comptable',
                'ordering': ['numero'],
            },
        ),
        migrations.CreateModel(
            name='CodeJournaux',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type_document', models.CharField(choices=[('document_achat', 'Document achat'), ('document_banque', 'Document banque'), ('caisse', 'Caisse'), ('monnaie_electronique', 'Monnaie électronique'), ('operation_diverse', 'Opération diverse')], max_length=30, verbose_name='Type de document')),
                ('intitule', models.CharField(max_length=100, verbose_name='Intitulé')),
                ('code', models.CharField(max_length=10, unique=True, verbose_name='Code')),
                ('actif', models.BooleanField(default=True, verbose_name='Actif')),
                ('commentaire', models.TextField(blank=True, verbose_name='Commentaire')),
                ('compte_contrepartie', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.plancomptable', verbose_name='Compte et contrepartie')),
            ],
            options={
                'verbose_name': 'Code journal',
                'verbose_name_plural': 'Codes journaux',
                'ordering': ['code'],
            },
        ),
        migrations.CreateModel(
            name='PlanTiers',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type', models.CharField(choices=[('client', 'Client'), ('fournisseur', 'Fournisseur'), ('banque', 'Banque'), ('etat', 'État'), ('salarie', 'Salarié'), ('autre', 'Autre')], max_length=20, verbose_name='Type')),
                ('numero_compte', models.CharField(max_length=20, unique=True, verbose_name='Numéro compte')),
                ('intitule_compte', models.CharField(max_length=200, verbose_name='Intitulé de compte')),
                ('adresse', models.TextField(blank=True, verbose_name='Adresse')),
                ('telephone', models.CharField(blank=True, max_length=20, verbose_name='Téléphone')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='E-mail')),
                ('actif', models.BooleanField(default=True, verbose_name='Actif')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
                ('compte_comptable', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.plancomptable', verbose_name='Compte comptable')),
            ],
            options={
                'verbose_name': 'Plan des tiers',
                'verbose_name_plural': 'Plan des tiers',
                'ordering': ['numero_compte'],
            },
        ),
        migrations.CreateModel(
            name='StatistiqueVente',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('reference_article', models.CharField(max_length=50, verbose_name='Référence article')),
                ('designation', models.CharField(max_length=200, verbose_name='Désignation')),
                ('quantite', models.IntegerField(verbose_name='Quantité')),
                ('marge_profit', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Marge (profit)')),
                ('chiffre_affaires', models.DecimalField(decimal_places=2, max_digits=12, verbose_name="Chiffre d'affaires")),
                ('pourcentage_marge', models.DecimalField(decimal_places=2, max_digits=5, verbose_name='Pourcentage de marge')),
                ('chiffre_affaires_total', models.DecimalField(decimal_places=2, max_digits=12, verbose_name="Chiffre d'affaires total")),
                ('date_creation', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
                ('article', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.article', verbose_name='Article')),
            ],
            options={
                'verbose_name': 'Statistique de vente',
                'verbose_name_plural': 'Statistiques de vente',
                'ordering': ['-date_creation'],
            },
        ),
        migrations.CreateModel(
            name='TauxTaxe',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(max_length=10, unique=True, verbose_name='Code')),
                ('sens', models.CharField(choices=[('debit', 'Débit'), ('credit', 'Crédit')], max_length=10, verbose_name='Sens')),
                ('intitule', models.CharField(max_length=100, verbose_name='Intitulé')),
                ('taux', models.DecimalField(decimal_places=2, max_digits=5, verbose_name='Taux (%)')),
                ('type', models.CharField(choices=[('tva', 'TVA'), ('tps', 'TPS'), ('autre', 'Autre')], max_length=20, verbose_name='Type')),
                ('assujettissement', models.CharField(choices=[('oui', 'Oui'), ('non', 'Non')], max_length=10, verbose_name='Assujettissement')),
                ('code_regroupement', models.CharField(blank=True, max_length=20, verbose_name='Code de regroupement')),
                ('provenance', models.CharField(blank=True, max_length=100, verbose_name='Provenance')),
                ('actif', models.BooleanField(default=True, verbose_name='Actif')),
                ('date_debut', models.DateField(verbose_name='Date de début')),
                ('date_fin', models.DateField(blank=True, null=True, verbose_name='Date de fin')),
                ('compte', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.plancomptable', verbose_name='Compte')),
            ],
            options={
                'verbose_name': 'Taux de taxe',
                'verbose_name_plural': 'Taux de taxe',
                'ordering': ['code'],
            },
        ),
    ]
