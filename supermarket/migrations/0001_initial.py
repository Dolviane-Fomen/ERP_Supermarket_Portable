# Generated by Django 5.2.6 on 2025-09-20 11:23

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Agence',
            fields=[
                ('id_agence', models.AutoField(primary_key=True, serialize=False, verbose_name='ID Agence')),
                ('nom_agence', models.CharField(max_length=100, verbose_name='Nom agence')),
                ('adresse', models.TextField(verbose_name='Adresse')),
            ],
            options={
                'verbose_name': 'Agence',
                'verbose_name_plural': 'Agences',
                'ordering': ['nom_agence'],
            },
        ),
        migrations.CreateModel(
            name='Famille',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(max_length=20, unique=True, verbose_name='Code')),
                ('intitule', models.CharField(max_length=100, verbose_name='Intitulé')),
                ('unite_vente', models.CharField(max_length=20, verbose_name='Unité de vente')),
                ('suivi_stock', models.BooleanField(default=True, verbose_name='Suivi de stock')),
            ],
            options={
                'verbose_name': 'Famille',
                'verbose_name_plural': 'Familles',
                'ordering': ['intitule'],
            },
        ),
        migrations.CreateModel(
            name='Article',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('reference_article', models.CharField(max_length=50, unique=True, verbose_name='Référence article')),
                ('designation', models.CharField(max_length=200, verbose_name='Désignation')),
                ('suivi_stock', models.BooleanField(default=True, verbose_name='Suivi stock')),
                ('conditionnement', models.CharField(max_length=50, verbose_name='Conditionnement')),
                ('prix_achat', models.DecimalField(decimal_places=2, max_digits=10, verbose_name="Prix d'achat")),
                ('dernier_prix_achat', models.DecimalField(decimal_places=2, max_digits=10, verbose_name="Dernier prix d'achat")),
                ('unite_vente', models.CharField(max_length=20, verbose_name='Unité de vente')),
                ('prix_vente', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Prix de vente')),
                ('type_vente', models.CharField(choices=[('detail', 'Détail'), ('demi_gros', 'Demi-gros'), ('gros', 'Gros')], default='detail', max_length=20, verbose_name='Type de vente')),
                ('stock_actuel', models.IntegerField(default=0, verbose_name='Stock actuel')),
                ('stock_minimum', models.IntegerField(default=0, verbose_name='Stock minimum')),
                ('date_creation', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
                ('categorie', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.famille', verbose_name='Catégorie')),
            ],
            options={
                'verbose_name': 'Article',
                'verbose_name_plural': 'Articles',
                'ordering': ['designation'],
            },
        ),
        migrations.CreateModel(
            name='Caisse',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_caisse', models.CharField(max_length=20, unique=True, verbose_name='Numéro de caisse')),
                ('nom_caisse', models.CharField(max_length=100, verbose_name='Nom de la caisse')),
                ('solde_initial', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Solde initial')),
                ('solde_actuel', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Solde actuel')),
                ('statut', models.CharField(choices=[('ouverte', 'Ouverte'), ('fermee', 'Fermée'), ('maintenance', 'En maintenance')], default='fermee', max_length=20, verbose_name='Statut')),
                ('date_ouverture', models.DateTimeField(blank=True, null=True, verbose_name="Date d'ouverture")),
                ('date_fermeture', models.DateTimeField(blank=True, null=True, verbose_name='Date de fermeture')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
            ],
            options={
                'verbose_name': 'Caisse',
                'verbose_name_plural': 'Caisses',
                'ordering': ['numero_caisse'],
            },
        ),
        migrations.CreateModel(
            name='Client',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_compte_tiers', models.CharField(max_length=20, unique=True, verbose_name='Numéro compte tiers')),
                ('intitule', models.CharField(max_length=200, verbose_name='Intitulé')),
                ('abrege', models.CharField(max_length=50, verbose_name='Abrégé')),
                ('qualite', models.CharField(max_length=100, verbose_name='Qualité')),
                ('interlocuteur', models.CharField(max_length=100, verbose_name='Interlocuteur')),
                ('adresse', models.TextField(verbose_name='Adresse')),
                ('complement', models.CharField(blank=True, max_length=200, verbose_name='Complément')),
                ('code_postal', models.CharField(max_length=10, verbose_name='Code postal')),
                ('region', models.CharField(max_length=100, verbose_name='Région')),
                ('ville', models.CharField(max_length=100, verbose_name='Ville')),
                ('pays', models.CharField(default='France', max_length=100, verbose_name='Pays')),
                ('telephone', models.CharField(max_length=20, verbose_name='Téléphone')),
                ('telecopie', models.CharField(blank=True, max_length=20, verbose_name='Télécopie')),
                ('email', models.EmailField(max_length=254, verbose_name='E-mail')),
                ('site_internet', models.URLField(blank=True, verbose_name='Site internet')),
                ('immatriculation', models.CharField(blank=True, max_length=50, verbose_name='Immatriculation')),
                ('code_naf', models.CharField(blank=True, max_length=20, verbose_name='Code NAF')),
                ('siret', models.CharField(blank=True, max_length=20, verbose_name='SIRET')),
                ('identification_tva', models.CharField(blank=True, max_length=20, verbose_name='Identification TVA')),
                ('date_creation', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
            ],
            options={
                'verbose_name': 'Client',
                'verbose_name_plural': 'Clients',
                'ordering': ['intitule'],
            },
        ),
        migrations.CreateModel(
            name='CodeJournal',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type_document', models.CharField(choices=[('document_achat', 'Document achat'), ('document_banque', 'Document banque'), ('caisse', 'Caisse'), ('monnaie_electronique', 'Monnaie électronique'), ('operation_diverse', 'Opération diverse')], max_length=30, verbose_name='Type de document')),
                ('intitule', models.CharField(max_length=200, verbose_name='Intitulé')),
                ('code', models.CharField(max_length=10, unique=True, verbose_name='Code')),
                ('compte_contrepartie', models.CharField(max_length=20, verbose_name='Compte et contrepartie')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
            ],
            options={
                'verbose_name': 'Code journal',
                'verbose_name_plural': 'Codes journaux',
                'ordering': ['code'],
            },
        ),
        migrations.CreateModel(
            name='FactureTransfert',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_compte', models.CharField(max_length=50, verbose_name='Numéro de compte')),
                ('date_transfert', models.DateField(verbose_name='Date de transfert')),
                ('reference_transfert', models.CharField(max_length=50, verbose_name='Référence transfert')),
                ('lieu_depart', models.CharField(max_length=100, verbose_name='Lieu de départ')),
                ('lieu_arrivee', models.CharField(max_length=100, verbose_name="Lieu d'arrivée")),
                ('quantite', models.IntegerField(verbose_name='Quantité')),
                ('agence_arrivee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transferts_entrants', to='supermarket.agence', verbose_name="Agence d'arrivée")),
                ('agence_depart', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transferts_sortants', to='supermarket.agence', verbose_name='Agence de départ')),
                ('article', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.article', verbose_name='Article')),
                ('code_journal', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.codejournal', verbose_name='Code journal')),
            ],
            options={
                'verbose_name': 'Facture de transfert',
                'verbose_name_plural': 'Factures de transfert',
                'ordering': ['-date_transfert'],
            },
        ),
        migrations.CreateModel(
            name='FactureVente',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_ticket', models.CharField(max_length=50, unique=True, verbose_name='Numéro ticket')),
                ('nom_vendeuse', models.CharField(max_length=100, verbose_name='Nom vendeuse')),
                ('nette_a_payer', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Nette à payer')),
                ('montant_regler', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Montant réglé')),
                ('rendu', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Rendu')),
                ('date', models.DateField(verbose_name='Date')),
                ('heure', models.TimeField(verbose_name='Heure')),
                ('type_vente', models.CharField(choices=[('detail', 'Détail'), ('demi_gros', 'Demi-gros'), ('gros', 'Gros')], max_length=20, verbose_name='Type de vente')),
                ('remise', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Remise (%)')),
                ('rappel_ticket', models.TextField(blank=True, verbose_name='Rappel ticket')),
                ('en_attente', models.BooleanField(default=False, verbose_name='En attente')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
                ('caisse', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.caisse', verbose_name='Caisse')),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.client', verbose_name='Client')),
                ('code_journal', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.codejournal', verbose_name='Code journal')),
            ],
            options={
                'verbose_name': 'Facture de vente',
                'verbose_name_plural': 'Factures de vente',
                'ordering': ['-date', '-heure'],
            },
        ),
        migrations.CreateModel(
            name='Inventaire',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('periode', models.DateField(verbose_name='Période')),
                ('stock_theorique', models.IntegerField(verbose_name='Stock théorique')),
                ('stock_physique', models.IntegerField(verbose_name='Stock physique')),
                ('ecart', models.IntegerField(verbose_name='Écart')),
                ('valeur_stock', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Valeur du stock')),
                ('date_inventaire', models.DateTimeField(auto_now_add=True, verbose_name="Date d'inventaire")),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
                ('article', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.article', verbose_name='Article')),
            ],
            options={
                'verbose_name': 'Inventaire',
                'verbose_name_plural': 'Inventaires',
                'ordering': ['-date_inventaire'],
            },
        ),
        migrations.CreateModel(
            name='LigneFactureVente',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('designation', models.CharField(max_length=200, verbose_name='Désignation')),
                ('quantite', models.IntegerField(verbose_name='Quantité')),
                ('prix_unitaire', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Prix unitaire')),
                ('prix_total', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Prix total')),
                ('article', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.article', verbose_name='Article')),
                ('facture_vente', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lignes', to='supermarket.facturevente', verbose_name='Facture de vente')),
            ],
            options={
                'verbose_name': 'Ligne de facture de vente',
                'verbose_name_plural': 'Lignes de facture de vente',
                'ordering': ['facture_vente', 'article'],
            },
        ),
        migrations.CreateModel(
            name='MouvementStock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('periode', models.DateField(verbose_name='Période')),
                ('type_mouvement', models.CharField(choices=[('entree', 'Entrée'), ('sortie', 'Sortie'), ('transfert', 'Transfert'), ('inventaire', 'Inventaire'), ('ajustement', 'Ajustement')], max_length=20, verbose_name='Type de mouvement')),
                ('quantite', models.IntegerField(verbose_name='Quantité')),
                ('stock_avant', models.IntegerField(verbose_name='Stock avant')),
                ('stock_apres', models.IntegerField(verbose_name='Stock après')),
                ('reference_document', models.CharField(max_length=50, verbose_name='Référence document')),
                ('commentaire', models.TextField(blank=True, verbose_name='Commentaire')),
                ('date_mouvement', models.DateTimeField(auto_now_add=True, verbose_name='Date du mouvement')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
                ('article', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.article', verbose_name='Article')),
            ],
            options={
                'verbose_name': 'Mouvement de stock',
                'verbose_name_plural': 'Mouvements de stock',
                'ordering': ['-date_mouvement'],
            },
        ),
        migrations.CreateModel(
            name='PlanComptable',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero', models.CharField(max_length=20, unique=True, verbose_name='Numéro')),
                ('intitule', models.CharField(max_length=200, verbose_name='Intitulé')),
                ('compte', models.CharField(max_length=20, verbose_name='Compte')),
                ('abrege', models.CharField(max_length=50, verbose_name='Abrégé')),
                ('nature_compte', models.CharField(choices=[('actif', 'Actif'), ('passif', 'Passif'), ('produit', 'Produit'), ('charge', 'Charge'), ('tresorerie', 'Trésorerie')], max_length=20, verbose_name='Nature compte')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
            ],
            options={
                'verbose_name': 'Plan comptable',
                'verbose_name_plural': 'Plans comptables',
                'ordering': ['numero'],
            },
        ),
        migrations.AddField(
            model_name='caisse',
            name='plan_comptable',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.plancomptable', verbose_name='Plan comptable'),
        ),
        migrations.CreateModel(
            name='PlanTiers',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type', models.CharField(choices=[('client', 'Client'), ('fournisseur', 'Fournisseur'), ('banque', 'Banque'), ('caisse', 'Caisse'), ('autre', 'Autre')], max_length=20, verbose_name='Type')),
                ('numero_compte', models.CharField(max_length=20, verbose_name='Numéro compte')),
                ('intitule_compte', models.CharField(max_length=200, verbose_name='Intitulé de compte')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
            ],
            options={
                'verbose_name': 'Plan tiers',
                'verbose_name_plural': 'Plans tiers',
                'ordering': ['type', 'numero_compte'],
            },
        ),
        migrations.CreateModel(
            name='Fournisseur',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_compte_tiers', models.CharField(max_length=20, unique=True, verbose_name='Numéro compte tiers')),
                ('intitule', models.CharField(max_length=200, verbose_name='Intitulé')),
                ('abrege', models.CharField(max_length=50, verbose_name='Abrégé')),
                ('qualite', models.CharField(max_length=100, verbose_name='Qualité')),
                ('interlocuteur', models.CharField(max_length=100, verbose_name='Interlocuteur')),
                ('adresse', models.TextField(verbose_name='Adresse')),
                ('complement', models.CharField(blank=True, max_length=200, verbose_name='Complément')),
                ('code_postal', models.CharField(max_length=10, verbose_name='Code postal')),
                ('region', models.CharField(max_length=100, verbose_name='Région')),
                ('ville', models.CharField(max_length=100, verbose_name='Ville')),
                ('pays', models.CharField(default='France', max_length=100, verbose_name='Pays')),
                ('telephone', models.CharField(max_length=20, verbose_name='Téléphone')),
                ('telecopie', models.CharField(blank=True, max_length=20, verbose_name='Télécopie')),
                ('email', models.EmailField(max_length=254, verbose_name='E-mail')),
                ('site_internet', models.URLField(blank=True, verbose_name='Site internet')),
                ('immatriculation', models.CharField(blank=True, max_length=50, verbose_name='Immatriculation')),
                ('code_naf', models.CharField(blank=True, max_length=20, verbose_name='Code NAF')),
                ('siret', models.CharField(blank=True, max_length=20, verbose_name='SIRET')),
                ('identification_tva', models.CharField(blank=True, max_length=20, verbose_name='Identification TVA')),
                ('date_creation', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
                ('plan_tiers', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.plantiers', verbose_name='Plan tiers')),
            ],
            options={
                'verbose_name': 'Fournisseur',
                'verbose_name_plural': 'Fournisseurs',
                'ordering': ['intitule'],
            },
        ),
        migrations.AddField(
            model_name='client',
            name='plan_tiers',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.plantiers', verbose_name='Plan tiers'),
        ),
        migrations.CreateModel(
            name='SessionCaisse',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('solde_ouverture', models.DecimalField(decimal_places=2, max_digits=10, verbose_name="Solde d'ouverture")),
                ('solde_fermeture', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Solde de fermeture')),
                ('date_ouverture', models.DateTimeField(auto_now_add=True, verbose_name="Date d'ouverture")),
                ('date_fermeture', models.DateTimeField(blank=True, null=True, verbose_name='Date de fermeture')),
                ('statut', models.CharField(choices=[('ouverte', 'Ouverte'), ('fermee', 'Fermée')], default='ouverte', max_length=20, verbose_name='Statut')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
                ('caisse', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.caisse', verbose_name='Caisse')),
                ('utilisateur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='Utilisateur')),
            ],
            options={
                'verbose_name': 'Session de caisse',
                'verbose_name_plural': 'Sessions de caisse',
                'ordering': ['-date_ouverture'],
            },
        ),
        migrations.CreateModel(
            name='TauxTaxe',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('identification', models.CharField(max_length=50, unique=True, verbose_name='Identification')),
                ('code', models.CharField(max_length=10, verbose_name='Code')),
                ('sens', models.CharField(choices=[('debit', 'Débit'), ('credit', 'Crédit')], max_length=10, verbose_name='Sens')),
                ('intitule', models.CharField(max_length=200, verbose_name='Intitulé')),
                ('compte', models.CharField(max_length=20, verbose_name='Compte')),
                ('taux', models.DecimalField(decimal_places=2, max_digits=5, verbose_name='Taux (%)')),
                ('type', models.CharField(choices=[('tva', 'TVA'), ('tps', 'TPS'), ('tvq', 'TVQ'), ('autre', 'Autre')], max_length=20, verbose_name='Type')),
                ('assujettissement', models.CharField(choices=[('obligatoire', 'Obligatoire'), ('facultatif', 'Facultatif'), ('exonere', 'Exonéré')], max_length=20, verbose_name='Assujettissement')),
                ('code_regroupement', models.CharField(max_length=20, verbose_name='Code de regroupement')),
                ('provenance', models.CharField(max_length=100, verbose_name='Provenance')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
            ],
            options={
                'verbose_name': 'Taux de taxe',
                'verbose_name_plural': 'Taux de taxes',
                'ordering': ['code'],
            },
        ),
        migrations.AddField(
            model_name='facturevente',
            name='taux_taxe',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.tauxtaxe', verbose_name='Taux de taxe'),
        ),
        migrations.CreateModel(
            name='FactureAchat',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_fournisseur', models.CharField(max_length=50, verbose_name='Numéro fournisseur')),
                ('date_achat', models.DateField(verbose_name="Date d'achat")),
                ('heure', models.TimeField(verbose_name='Heure')),
                ('reference_achat', models.CharField(max_length=50, verbose_name='Référence achat')),
                ('reference_article', models.CharField(max_length=50, verbose_name='Référence article')),
                ('designation', models.CharField(max_length=200, verbose_name='Désignation')),
                ('prix_unitaire', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Prix unitaire')),
                ('quantite', models.IntegerField(verbose_name='Quantité')),
                ('prix_total_article', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Prix total article')),
                ('prix_total_global', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Prix total global')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
                ('article', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.article', verbose_name='Article')),
                ('code_journal', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.codejournal', verbose_name='Code journal')),
                ('fournisseur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.fournisseur', verbose_name='Fournisseur')),
                ('taux_taxe', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='supermarket.tauxtaxe', verbose_name='Taux de taxe')),
            ],
            options={
                'verbose_name': "Facture d'achat",
                'verbose_name_plural': "Factures d'achat",
                'ordering': ['-date_achat'],
            },
        ),
        migrations.CreateModel(
            name='Statistique',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('periode', models.DateField(verbose_name='Période')),
                ('quantite_vendue', models.IntegerField(default=0, verbose_name='Quantité vendue')),
                ('chiffre_affaires', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name="Chiffre d'affaires")),
                ('nombre_transactions', models.IntegerField(default=0, verbose_name='Nombre de transactions')),
                ('stock_moyen', models.IntegerField(default=0, verbose_name='Stock moyen')),
                ('rotation_stock', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Rotation du stock')),
                ('cout_achat_total', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name="Coût d'achat total")),
                ('profit', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Profit')),
                ('pourcentage_marge_beneficiaire', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Pourcentage de marge bénéficiaire (%)')),
                ('agence', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.agence', verbose_name='Agence')),
                ('article', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='supermarket.article', verbose_name='Article')),
            ],
            options={
                'verbose_name': 'Statistique',
                'verbose_name_plural': 'Statistiques',
                'ordering': ['-periode', 'article'],
                'unique_together': {('article', 'periode', 'agence')},
            },
        ),
    ]
